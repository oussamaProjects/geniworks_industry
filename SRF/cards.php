<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  <<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>


<div class='wrap-expd-card'>
  <div class='expd-card animated'>
    <div class='expd-card-body-wrap'>
      <div class='expd-card-img'></div>
      <div class='expd-card-content'>
        <div class='expd-card-toggle'></div>
        <div class='expd-heading'>
          <h2>Lorem Ipsum</h2>
          <strong>Subtitle</strong>
        </div>
        <div class='expd-truncate'>
          <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Nulla quis lorem ut libero malesuada feugiat. Quisque velit nisi, pretium ut lacinia in, elementum id enim.</p>
          <p>Donec rutrum congue leo eget malesuada. Nulla porttitor accumsan tincidunt. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Vivamus suscipit tortor eget felis porttitor volutpat.</p>
          <p>Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Nulla quis lorem ut libero malesuada feugiat. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Donec rutrum congue leo eget malesuada.</p>
          <p>Vivamus magna justo, lacinia eget consectetur sed, convallis at tellus. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Donec sollicitudin molestie malesuada. Vivamus suscipit tortor eget felis porttitor volutpat. Nulla porttitor accumsan tincidunt. Pellentesque in ipsum id orci porta dapibus.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class='wrap-expd-card'>
  <div class='expd-card animated'>
    <div class='expd-card-body-wrap'>
      <div class='expd-card-img'></div>
      <div class='expd-card-content'>
        <div class='expd-card-toggle'></div>
        <div class='expd-heading'>
          <h2>Lorem Ipsum</h2>
          <strong>Subtitle</strong>
        </div>
        <div class='expd-truncate'>
          <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Nulla quis lorem ut libero malesuada feugiat. Quisque velit nisi, pretium ut lacinia in, elementum id enim.</p>
          <p>Donec rutrum congue leo eget malesuada. Nulla porttitor accumsan tincidunt. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Vivamus suscipit tortor eget felis porttitor volutpat.</p>
          <p>Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Nulla quis lorem ut libero malesuada feugiat. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Donec rutrum congue leo eget malesuada.</p>
          <p>Vivamus magna justo, lacinia eget consectetur sed, convallis at tellus. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Donec sollicitudin molestie malesuada. Vivamus suscipit tortor eget felis porttitor volutpat. Nulla porttitor accumsan tincidunt. Pellentesque in ipsum id orci porta dapibus.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<div class='wrap-expd-card'>
  <div class='expd-card animated'>
    <div class='expd-card-body-wrap'>
      <div class='expd-card-img'></div>
      <div class='expd-card-content'>
        <div class='expd-card-toggle'></div>
        <div class='expd-heading'>
          <h2>Lorem Ipsum</h2>
          <strong>Subtitle</strong>
        </div>
        <div class='expd-truncate'>
          <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Nulla quis lorem ut libero malesuada feugiat. Quisque velit nisi, pretium ut lacinia in, elementum id enim.</p>
          <p>Donec rutrum congue leo eget malesuada. Nulla porttitor accumsan tincidunt. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Vivamus suscipit tortor eget felis porttitor volutpat.</p>
          <p>Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec velit neque, auctor sit amet aliquam vel, ullamcorper sit amet ligula. Nulla quis lorem ut libero malesuada feugiat. Curabitur non nulla sit amet nisl tempus convallis quis ac lectus. Mauris blandit aliquet elit, eget tincidunt nibh pulvinar a. Donec rutrum congue leo eget malesuada.</p>
          <p>Vivamus magna justo, lacinia eget consectetur sed, convallis at tellus. Praesent sapien massa, convallis a pellentesque nec, egestas non nisi. Donec sollicitudin molestie malesuada. Vivamus suscipit tortor eget felis porttitor volutpat. Nulla porttitor accumsan tincidunt. Pellentesque in ipsum id orci porta dapibus.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<style>

.expd-card,
.expd-card * {
  box-sizing: border-box;
}
.wrap-expd-card {
  width: 320px;
  height: 320px;
  float: left;
  margin: 16px;
}
.expd-card.fadeIn {
  animation-duration: 300ms;
  animation-delay: 0ms;
}
.expd-card {
  font-family: Roboto, sans-serif;
  color: #7c7c7c;
  background: #fff;
  position: relative;
  width: 320px;
  height: 320px;
  border: 1px solid #ccc;
  overflow: hidden;
  animation-duration: 400ms;
  animation-delay: 200ms;
  animation-iteration-count: 1;
}
.expd-card .expd-card-body-wrap {
  max-width: 960px;
  margin: 0 auto;
}
.expd-card .expd-card-body-wrap .expd-card-img {
  height: 0px;
  padding-bottom: 56.25%;
  background: #bbb;
}
.expd-card .expd-card-body-wrap .expd-card-content {
  margin: 18px 16px;
  position: relative;
}
.expd-card .expd-card-body-wrap .expd-card-content .expd-card-toggle {
  position: absolute;
  cursor: pointer;
  height: 40px;
  width: 40px;
  background: #f00;
  right: 16px;
  top: -36px;
  border-radius: 50%;
}
.expd-card .expd-card-body-wrap .expd-card-content .expd-heading h2 {
  color: #383838;
  font-size: 20px;
  margin: 0;
}
.expd-card .expd-card-body-wrap .expd-card-content .expd-heading strong {
  color: #585858;
  font-size: 14px;
}
.expd-card .expd-card-body-wrap .expd-card-content p {
  font-size: 14px;
  margin: 10px 0px;
}
.expd-body {
  overflow: hidden;
}
.expd-card.expd-pre-anim {
  position: fixed;
  z-index: 99;
}
.expd-card.expd-active {
  position: fixed;
  z-index: 99;
  top: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
  right: 0 !important;
  width: 100% !important;
  height: 100% !important;
  overflow: scroll;
}
 
</style>

<script>
  (function($){
  "use strict"
  
  $.fn.snipper = function(options) {
    var opts = $.extend({}, $.fn.snipper.defaults, options),
      trimText = function($el, height, ellipsis) {
        // Make sure HTML entities only count as one character
        var ellipsisNumChars = ellipsis.replace(/&[^;]+?;/g, '.').length;

        while ($el.outerHeight() > height) {
          if ($el.text().length <= ellipsisNumChars) {
            break;
          }

          $el.html(function(i, text) {
            if (/\s/.test(text)) {
              return text.replace(/\s*(\S)*$/, ellipsis);
            }
            
            // If there is just one really long string without spaces
            // start stripping the last character and concatinating the ellipsis
            return text.replace(new RegEx('.{' + (ellipsisNumChars + 1) + '}$'), ellipsis);
          });
        }
      };

    this.each(function(){
      var $el = $(this),
        fullText = opts.fullText || $el.data('snipper:fullText'),
        height = opts.height,
        ellipsis = opts.ellipsis || '';

      // If height is a function get its return value
      if (typeof(height) === 'function') {
        height = height.apply(this);
      }

      if (!height) {
        return;
      }

      height = parseInt(height, 10);

      if (isNaN(height)) {
        return;
      }

      if (fullText) {
        if (typeof(fullText) === 'function') {
          fullText = fullText.apply(this);
        }

        $el.html(fullText);
      } else {
        $el.data('snipper:fullText', $el.html());
      }

      trimText($el, height, ellipsis);
    });

    return this;
  };
  
  $.fn.snipper.defaults = {
    ellipsis: '&hellip;'
  };
}(jQuery))

//none/grow pulse/grow, bounceIn/grow, BounceInUp/slide, fadeInUp/slide, lightSpeedIn/slide, rotateInUpLeft/fade, rollIn/slide, zoomIn/fade, slideInUp/slide
var speed = 300,
    animClassIn = "pulse",
    animClassOut = "fadeIn",
    expandStyle = "grow";
$(document).ready(function(){
  $('.expd-truncate').snipper({height: '60px'});
});
//
//Expand
//
$(document).on("click",".wrap-expd-card .expd-card-toggle" , function() {
  var thisCard = $(this).closest(".expd-card"),
      cardLeft = thisCard.offset().left,
      cardTop = thisCard.offset().top - $(window).scrollTop();
  $('.expd-truncate',thisCard).snipper({height: '9999px'});
  thisCard.parent(".wrap-expd-card").addClass("expd-hold");
  thisCard.prependTo("body");
  $("body").addClass("expd-body");
  thisCard.addClass("expd-pre-anim").css({left: cardLeft, top: cardTop});
  thisCard.removeClass("out-anim "+animClassOut);
  thisCard.css('opacity');
  if(expandStyle == "grow") {
    thisCard.removeClass("expd-pre-anim").addClass("expd-active").css({left: 0, top: 0, transition: "all "+speed+"ms ease", opacity: 1});
    thisCard.addClass(animClassIn);
  } else if (expandStyle == "slide") {
    thisCard.animate({
      top: '100%'
    }, 100, function () {
      thisCard.removeClass("expd-pre-anim").addClass("expd-active");
    }).promise().done(function () {
      thisCard.addClass(animClassIn);
    }); 
  } else if (expandStyle == "fade") {
    thisCard.removeClass("expd-pre-anim").addClass("expd-active").css({left: 0, top: 0,opacity: 1, transition: "opacity "+speed+"ms"});
    thisCard.addClass(animClassIn);
  }
});
//
//Retract
//
$(document).on("click",".expd-body .expd-card-toggle", function() {
  var thisCard = $(this).closest(".expd-card"),
      cardLeft = $(".expd-hold").offset().left,
      cardTop = $(".expd-hold").offset().top - $(window).scrollTop();
  thisCard.removeClass("expd-active "+animClassIn).addClass("expd-pre-anim").css({left: cardLeft, top: cardTop, opacity: 0});
  thisCard.animate({scrollTop:0},speed);
  //setTimeout(function(){ 
    $('.expd-truncate',thisCard).snipper({height: '60px'});
    thisCard.removeClass("expd-pre-anim").css({left: 0, top: 0, opacity: 1}); 
    thisCard.appendTo(".wrap-expd-card.expd-hold").addClass(animClassOut);
    $(".wrap-expd-card").removeClass("expd-hold");
    $("body").removeClass("expd-body");
  //}, 0);//
});

</script>

</body>
</html>